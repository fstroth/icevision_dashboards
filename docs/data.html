---

title: data


keywords: fastai
sidebar: home_sidebar

summary: "Provides dataset for icevision records and classmaps"
description: "Provides dataset for icevision records and classmaps"
nb_path: "nbs/data.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/data.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test-data-setup">Test data setup<a class="anchor-link" href="#Test-data-setup"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">icedata</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data_dir</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<span class="n">test_class_map</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">class_map</span><span class="p">()</span>
<span class="n">test_parser</span> <span class="o">=</span> <span class="n">icedata</span><span class="o">.</span><span class="n">fridge</span><span class="o">.</span><span class="n">parser</span><span class="p">(</span><span class="n">test_data_dir</span><span class="p">)</span>
<span class="n">test_train_records</span><span class="p">,</span> <span class="n">test_valid_records</span> <span class="o">=</span> <span class="n">test_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">136</span>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RecordDataframeParser" class="doc_header"><code>class</code> <code>RecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L36" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RecordDataframeParser</code>(<strong><code>record_template</code></strong>) :: <code>Parser</code></p>
</blockquote>
<p>IceVision parser for pandas datagrames. This parser is mostly used by the RecordDataset to load records from a saved RecordDataset.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BboxRecordDataframeParser" class="doc_header"><code>class</code> <code>BboxRecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L59" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BboxRecordDataframeParser</code>(<strong><code>record_dataframe</code></strong>, <strong><code>class_map</code></strong>) :: <a href="/icevision_dashboards/data.html#RecordDataframeParser"><code>RecordDataframeParser</code></a></p>
</blockquote>
<p>Extends the RecordDataframeParser for object detection</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MaskRecordDataframeParser" class="doc_header"><code>class</code> <code>MaskRecordDataframeParser</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L71" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>MaskRecordDataframeParser</code>(<strong><code>record_dataframe</code></strong>, <strong><code>class_map</code></strong>) :: <a href="/icevision_dashboards/data.html#RecordDataframeParser"><code>RecordDataframeParser</code></a></p>
</blockquote>
<p>Extends the RecordDataframeParser for instance segmentation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RecordDataset" class="doc_header"><code>class</code> <code>RecordDataset</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L85" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RecordDataset</code>(<strong><code>records</code></strong>:<code>Union</code>[<code>List</code>[<code>BaseRecord</code>], <a href="/icevision_dashboards/core.data.html#ObservableList"><code>ObservableList</code></a>, <code>str</code>], <strong><code>class_map</code></strong>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>description</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/core.data.html#GenericDataset"><code>GenericDataset</code></a></p>
</blockquote>
<p>Base class dashboard datasets that are based on IceVision records.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DataDescriptorBbox" class="doc_header"><code>class</code> <code>DataDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L178" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DataDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Dashboard dataset for object detection</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="StatsDescriptorBbox" class="doc_header"><code>class</code> <code>StatsDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L209" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>StatsDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Abstract base class for descriptors of datasets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ImageStatsDescriptorBbox" class="doc_header"><code>class</code> <code>ImageStatsDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L224" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ImageStatsDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Abstract base class for descriptors of datasets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ClassStatsDescriptorBbox" class="doc_header"><code>class</code> <code>ClassStatsDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L236" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ClassStatsDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Abstract base class for descriptors of datasets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GalleryStatsDescriptorBbox" class="doc_header"><code>class</code> <code>GalleryStatsDescriptorBbox</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L253" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GalleryStatsDescriptorBbox</code>() :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Abstract base class for descriptors of datasets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BboxRecordDataset" class="doc_header"><code>class</code> <code>BboxRecordDataset</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L260" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BboxRecordDataset</code>(<strong><code>records</code></strong>:<code>Union</code>[<code>List</code>[<code>BaseRecord</code>], <a href="/icevision_dashboards/core.data.html#ObservableList"><code>ObservableList</code></a>, <code>str</code>], <strong><code>class_map</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>description</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/data.html#RecordDataset"><code>RecordDataset</code></a></p>
</blockquote>
<p>Base class dashboard datasets that are based on IceVision records.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="p">(</span><span class="n">test_valid_records</span><span class="p">,</span> <span class="n">test_class_map</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_class</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_image</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">mask</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">masked_test_record</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">create_new_from_mask</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">masked_test_record</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_old_record_dataset_stats</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="n">test_train_records</span>
<span class="n">test_new_record_dataset_stats</span> <span class="o">=</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">stats_dataset</span>
<span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">test_old_record_dataset_stats</span> <span class="o">!=</span> <span class="n">test_new_record_dataset_stats</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>width</th>
      <th>height</th>
      <th>label</th>
      <th>area_square_root</th>
      <th>area_square_root_normalized</th>
      <th>bbox_xmin</th>
      <th>bbox_xmax</th>
      <th>bbox_ymin</th>
      <th>bbox_ymax</th>
      <th>...</th>
      <th>area_normalized</th>
      <th>bbox_ratio</th>
      <th>record_index</th>
      <th>bbox_width</th>
      <th>bbox_height</th>
      <th>filepath</th>
      <th>creation_date</th>
      <th>modification_date</th>
      <th>num_annotations</th>
      <th>label_num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>61</td>
      <td>499</td>
      <td>666</td>
      <td>carton</td>
      <td>254.909788</td>
      <td>0.442180</td>
      <td>9</td>
      <td>190</td>
      <td>198</td>
      <td>557</td>
      <td>...</td>
      <td>0.195523</td>
      <td>0.504178</td>
      <td>0</td>
      <td>181</td>
      <td>359</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/39.jpg</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>3</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>61</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>132.729047</td>
      <td>0.230239</td>
      <td>227</td>
      <td>306</td>
      <td>232</td>
      <td>455</td>
      <td>...</td>
      <td>0.053010</td>
      <td>0.354260</td>
      <td>0</td>
      <td>79</td>
      <td>223</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/39.jpg</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>61</td>
      <td>499</td>
      <td>666</td>
      <td>water_bottle</td>
      <td>139.599427</td>
      <td>0.242157</td>
      <td>333</td>
      <td>420</td>
      <td>186</td>
      <td>410</td>
      <td>...</td>
      <td>0.058640</td>
      <td>0.388393</td>
      <td>0</td>
      <td>87</td>
      <td>224</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/39.jpg</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>2021-05-27 13:06:56.831067</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>21</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>153.244902</td>
      <td>0.265827</td>
      <td>196</td>
      <td>299</td>
      <td>200</td>
      <td>428</td>
      <td>...</td>
      <td>0.070664</td>
      <td>0.451754</td>
      <td>1</td>
      <td>103</td>
      <td>228</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/118.jpg</td>
      <td>2021-05-27 13:06:56.851067</td>
      <td>2021-05-27 13:06:56.851067</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>21</td>
      <td>499</td>
      <td>666</td>
      <td>water_bottle</td>
      <td>213.997664</td>
      <td>0.371212</td>
      <td>88</td>
      <td>443</td>
      <td>410</td>
      <td>539</td>
      <td>...</td>
      <td>0.137798</td>
      <td>2.751938</td>
      <td>1</td>
      <td>355</td>
      <td>129</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/118.jpg</td>
      <td>2021-05-27 13:06:56.851067</td>
      <td>2021-05-27 13:06:56.851067</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>250</th>
      <td>60</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>131.034347</td>
      <td>0.227299</td>
      <td>326</td>
      <td>411</td>
      <td>207</td>
      <td>409</td>
      <td>...</td>
      <td>0.051665</td>
      <td>0.420792</td>
      <td>99</td>
      <td>85</td>
      <td>202</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/38.jpg</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>251</th>
      <td>24</td>
      <td>499</td>
      <td>666</td>
      <td>water_bottle</td>
      <td>185.126983</td>
      <td>0.321131</td>
      <td>150</td>
      <td>262</td>
      <td>139</td>
      <td>445</td>
      <td>...</td>
      <td>0.103125</td>
      <td>0.366013</td>
      <td>100</td>
      <td>112</td>
      <td>306</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/120.jpg</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>252</th>
      <td>24</td>
      <td>499</td>
      <td>666</td>
      <td>can</td>
      <td>235.151015</td>
      <td>0.407905</td>
      <td>149</td>
      <td>405</td>
      <td>355</td>
      <td>571</td>
      <td>...</td>
      <td>0.166387</td>
      <td>1.185185</td>
      <td>100</td>
      <td>256</td>
      <td>216</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/120.jpg</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>2021-05-27 13:06:56.835067</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>253</th>
      <td>28</td>
      <td>499</td>
      <td>666</td>
      <td>milk_bottle</td>
      <td>161.245155</td>
      <td>0.279704</td>
      <td>50</td>
      <td>175</td>
      <td>263</td>
      <td>471</td>
      <td>...</td>
      <td>0.078235</td>
      <td>0.600962</td>
      <td>101</td>
      <td>125</td>
      <td>208</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/124.jpg</td>
      <td>2021-05-27 13:06:56.855067</td>
      <td>2021-05-27 13:06:56.855067</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>254</th>
      <td>28</td>
      <td>499</td>
      <td>666</td>
      <td>carton</td>
      <td>325.039998</td>
      <td>0.563832</td>
      <td>122</td>
      <td>473</td>
      <td>186</td>
      <td>487</td>
      <td>...</td>
      <td>0.317906</td>
      <td>1.166113</td>
      <td>101</td>
      <td>351</td>
      <td>301</td>
      <td>/home/frederik/.icevision/data/fridge/odFridgeObjects/images/124.jpg</td>
      <td>2021-05-27 13:06:56.855067</td>
      <td>2021-05-27 13:06:56.855067</td>
      <td>2</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>255 rows Ã— 21 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_regenerated_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="o">.</span><span class="n">load_from_record_dataframe</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">test_class_map</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">test_regenerated_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">test_record_dataset</span><span class="o">.</span><span class="n">records</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">136</span>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="n">test_record_dataset</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
<span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s2">&quot;dump_dir/dataset.json&quot;</span><span class="p">)</span>
<span class="n">test_loaded_record_dataset</span> <span class="o">=</span> <span class="n">BboxRecordDataset</span><span class="p">(</span><span class="s2">&quot;dump_dir/dataset.json&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">test_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;area&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">test_loaded_record_dataset</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="s2">&quot;dump_dir&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-bold">INFO    </span> - <span class="ansi-blue-intense-fg ansi-bold">Autofixing records</span> | <span class="ansi-cyan-fg">icevision.parsers.parser</span>:<span class="ansi-cyan-fg">parse</span>:<span class="ansi-cyan-fg">136</span>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PrecisionRecallMetricsDescriptorObjectDetection" class="doc_header"><code>class</code> <code>PrecisionRecallMetricsDescriptorObjectDetection</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L287" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PrecisionRecallMetricsDescriptorObjectDetection</code>(<strong><code>ious</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/core.data.html#DatasetDescriptor"><code>DatasetDescriptor</code></a></p>
</blockquote>
<p>Abstract base class for descriptors of datasets</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ObjectDetectionResultsDataset" class="doc_header"><code>class</code> <code>ObjectDetectionResultsDataset</code><a href="https://github.com/fstroth/icevision_dashboards/tree/master/icevision_dashboards/data.py#L298" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ObjectDetectionResultsDataset</code>(<strong><code>dataframe</code></strong>, <strong><code>name</code></strong>=<em><code>None</code></em>, <strong><code>description</code></strong>=<em><code>None</code></em>) :: <a href="/icevision_dashboards/core.data.html#GenericDataset"><code>GenericDataset</code></a></p>
</blockquote>
<p>Dashboard dataset for the results of and object detection system.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_odrd</span> <span class="o">=</span> <span class="n">ObjectDetectionResultsDataset</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;test_data/fridge_valid.dat&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

